{% extends 'base.html' %}

{% block title %}Create Course{% endblock %}

{% block content %}
<h2>Create a New Course</h2>

<!-- Flash messages for feedback -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class="flashes">
      {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<form method="POST" action="{{ url_for('courses.create_course') }}">
    {{ form.hidden_tag() }}  <!-- CSRF token and hidden fields -->

    <div>
        {{ form.title.label }}<br>
        {{ form.title(class_='form-control', size=50) }}
        {% if form.title.errors %}
            <span class="error">{{ form.title.errors[0] }}</span>
        {% endif %}
    </div>
    <br>

    <div>
        {{ form.description.label }}<br>
        {{ form.description(class_='form-control', rows=4, cols=50) }}
        {% if form.description.errors %}
            <span class="error">{{ form.description.errors[0] }}</span>
        {% endif %}
    </div>
    <br>

    <div>
        {{ form.start_date.label }}<br>
        {{ form.start_date(class_='form-control') }}
        {% if form.start_date.errors %}
            <span class="error">{{ form.start_date.errors[0] }}</span>
        {% endif %}
    </div>
    <br>

    <div>
        {{ form.end_date.label }}<br>
        {{ form.end_date(class_='form-control') }}
        {% if form.end_date.errors %}
            <span class="error">{{ form.end_date.errors[0] }}</span>
        {% endif %}
    </div>
    <br>

    <div>
        {{ form.duration.label }}<br>
        {{ form.duration(class_='form-control', size=20) }}
        {% if form.duration.errors %}
            <span class="error">{{ form.duration.errors[0] }}</span>
        {% endif %}
    </div>
    <br>

    <button type="submit" class="btn btn-primary">Create Course</button>
</form>
{% endblock %}